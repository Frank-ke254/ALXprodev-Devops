#!/bin/bash

API_URL="https://pokeapi.co/api/v2/pokemon/pikachu"
OUTPUT_FILE="data.json"
ERROR_FILE="errors.txt"

curl -s -o "$OUTPUT_FILE" -w "%{http_code}" "$API_URL" > status_code.txt

if grep -q "200" status_code.txt; then
    echo "Successfully fetched Pikachu data and saved to $OUTPUT_FILE"
else
    echo "Failed to fetch data. Logging error to $ERROR_FILE"
    echo "Request to $API_URL failed at $(date)" >> "$ERROR_FILE"
fi

rm -f status_code.txt
